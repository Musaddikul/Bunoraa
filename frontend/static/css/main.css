/* frontend/static/css/main.css */
/* Main stylesheet for Bunoraa */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   Base Layer - Reset & Typography
   ============================================ */
@layer base {
    /* Font imports */
    @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 100 900;
        font-display: swap;
        src: url('/static/fonts/inter-var.woff2') format('woff2');
    }
    
    /* Reset */
    html {
        @apply scroll-smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    body {
        @apply font-sans text-secondary-800 bg-white;
        font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    }
    
    /* Typography */
    h1 {
        @apply text-3xl md:text-4xl lg:text-5xl font-bold text-secondary-900 tracking-tight;
    }
    
    h2 {
        @apply text-2xl md:text-3xl font-bold text-secondary-900 tracking-tight;
    }
    
    h3 {
        @apply text-xl md:text-2xl font-semibold text-secondary-900;
    }
    
    h4 {
        @apply text-lg font-semibold text-secondary-900;
    }
    
    h5 {
        @apply text-base font-semibold text-secondary-900;
    }
    
    h6 {
        @apply text-sm font-semibold text-secondary-900;
    }
    
    p {
        @apply leading-relaxed;
    }
    
    a {
        @apply text-primary-600 hover:text-primary-700 transition-colors;
    }
    
    /* Focus styles */
    *:focus-visible {
        @apply outline-none ring-2 ring-primary-500 ring-offset-2;
    }
    
    /* Selection */
    ::selection {
        @apply bg-primary-100 text-primary-900;
    }
}

/* ============================================
   Components Layer
   ============================================ */
@layer components {
    /* Container */
    .container-narrow {
        @apply max-w-4xl mx-auto px-4 sm:px-6;
    }
    
    .container-wide {
        @apply max-w-8xl mx-auto px-4 sm:px-6 lg:px-8;
    }
    
    /* Section */
    .section {
        @apply py-12 md:py-16 lg:py-20;
    }
    
    .section-sm {
        @apply py-8 md:py-12;
    }
    
    .section-title {
        @apply text-2xl md:text-3xl font-bold text-secondary-900 mb-2;
    }
    
    .section-subtitle {
        @apply text-secondary-600 mb-8;
    }
    
    /* Product Card */
    .product-card {
        @apply group relative bg-white rounded-2xl overflow-hidden transition-all duration-300 hover:shadow-soft-lg;
    }
    
    .product-card-image {
        @apply aspect-product overflow-hidden bg-secondary-100;
    }
    
    .product-card-image img {
        @apply w-full h-full object-cover transition-transform duration-500 group-hover:scale-105;
    }
    
    .product-card-body {
        @apply p-4;
    }
    
    .product-card-title {
        @apply text-sm font-medium text-secondary-900 line-clamp-2 mb-1 group-hover:text-primary-600 transition-colors;
    }
    
    .product-card-price {
        @apply flex items-baseline gap-2;
    }
    
    .product-card-price-current {
        @apply text-lg font-bold text-secondary-900;
    }
    
    .product-card-price-original {
        @apply text-sm text-secondary-400 line-through;
    }
    
    .product-card-badge {
        @apply absolute top-3 left-3 z-10;
    }
    
    .product-card-actions {
        @apply absolute top-3 right-3 z-10 flex flex-col gap-2 opacity-0 translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300;
    }
    
    .product-card-action-btn {
        @apply w-9 h-9 flex items-center justify-center bg-white rounded-full shadow-md hover:bg-primary-600 hover:text-white transition-colors;
    }
    
    /* Price display */
    .price {
        @apply font-bold text-secondary-900;
    }
    
    .price-original {
        @apply text-secondary-400 line-through font-normal;
    }
    
    .price-sale {
        @apply text-error-600 font-bold;
    }
    
    /* Quantity input */
    .quantity-input {
        @apply inline-flex items-center border border-secondary-300 rounded-lg overflow-hidden;
    }
    
    .quantity-btn {
        @apply w-10 h-10 flex items-center justify-center text-secondary-600 hover:bg-secondary-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
    }
    
    .quantity-value {
        @apply w-12 h-10 text-center border-0 focus:ring-0;
    }
    
    /* Rating stars */
    .rating {
        @apply inline-flex items-center gap-0.5;
    }
    
    .rating-star {
        @apply w-4 h-4 text-warning-400;
    }
    
    .rating-star-empty {
        @apply w-4 h-4 text-secondary-300;
    }
    
    .rating-count {
        @apply ml-2 text-sm text-secondary-500;
    }
    
    /* Breadcrumbs */
    .breadcrumb {
        @apply flex items-center flex-wrap gap-2 text-sm;
    }
    
    .breadcrumb-item {
        @apply text-secondary-600 hover:text-primary-600 transition-colors;
    }
    
    .breadcrumb-separator {
        @apply text-secondary-400;
    }
    
    .breadcrumb-current {
        @apply text-secondary-900 font-medium;
    }
    
    /* Table */
    .table-wrapper {
        @apply overflow-x-auto;
    }
    
    .table {
        @apply w-full text-left text-sm;
    }
    
    .table th {
        @apply px-4 py-3 font-semibold text-secondary-900 bg-secondary-50 border-b border-secondary-200;
    }
    
    .table td {
        @apply px-4 py-3 border-b border-secondary-100;
    }
    
    .table tbody tr:hover {
        @apply bg-secondary-50;
    }
    
    /* Pagination */
    .pagination {
        @apply flex items-center justify-center gap-1;
    }
    
    .pagination-btn {
        @apply w-10 h-10 flex items-center justify-center rounded-lg text-sm font-medium text-secondary-600 hover:bg-secondary-100 transition-colors;
    }
    
    .pagination-btn.active {
        @apply bg-primary-600 text-white hover:bg-primary-700;
    }
    
    .pagination-btn:disabled {
        @apply opacity-50 cursor-not-allowed hover:bg-transparent;
    }
    
    /* Alert */
    .alert {
        @apply p-4 rounded-xl flex items-start gap-3;
    }
    
    .alert-success {
        @apply bg-success-50 text-success-800;
    }
    
    .alert-warning {
        @apply bg-warning-50 text-warning-800;
    }
    
    .alert-error {
        @apply bg-error-50 text-error-800;
    }
    
    .alert-info {
        @apply bg-primary-50 text-primary-800;
    }
    
    /* Tabs */
    .tabs {
        @apply flex border-b border-secondary-200;
    }
    
    .tab {
        @apply px-4 py-3 text-sm font-medium text-secondary-600 border-b-2 border-transparent -mb-px hover:text-secondary-900 transition-colors;
    }
    
    .tab.active {
        @apply text-primary-600 border-primary-600;
    }
    
    .tab-panel {
        @apply py-6;
    }
    
    /* Divider */
    .divider {
        @apply flex items-center gap-4 text-sm text-secondary-500;
    }
    
    .divider::before,
    .divider::after {
        @apply flex-1 h-px bg-secondary-200;
        content: '';
    }
    
    /* Empty state */
    .empty-state {
        @apply text-center py-12;
    }
    
    .empty-state-icon {
        @apply w-16 h-16 mx-auto mb-4 text-secondary-300;
    }
    
    .empty-state-title {
        @apply text-lg font-semibold text-secondary-900 mb-2;
    }
    
    .empty-state-text {
        @apply text-secondary-600 mb-6;
    }
    
    /* Overlay */
    .overlay {
        @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-40;
    }
    
    /* Drawer */
    .drawer {
        @apply fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-2xl z-50 transform translate-x-full transition-transform duration-300;
    }
    
    .drawer.open {
        @apply translate-x-0;
    }
    
    .drawer-header {
        @apply flex items-center justify-between p-4 border-b border-secondary-100;
    }
    
    .drawer-body {
        @apply flex-1 overflow-y-auto p-4;
    }
    
    .drawer-footer {
        @apply p-4 border-t border-secondary-100 bg-secondary-50;
    }
    
    /* Dropdown */
    .dropdown {
        @apply relative inline-block;
    }
    
    .dropdown-menu {
        @apply absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-soft-lg border border-secondary-100 py-1 z-50 opacity-0 invisible translate-y-2 transition-all duration-200;
    }
    
    .dropdown.open .dropdown-menu {
        @apply opacity-100 visible translate-y-0;
    }
    
    .dropdown-item {
        @apply block px-4 py-2 text-sm text-secondary-700 hover:bg-secondary-50 transition-colors;
    }
    
    .dropdown-divider {
        @apply my-1 border-t border-secondary-100;
    }
}

/* ============================================
   Utilities Layer
   ============================================ */
@layer utilities {
    /* Line clamp */
    .line-clamp-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    /* Safe area padding (for mobile notch) */
    .safe-top {
        padding-top: env(safe-area-inset-top);
    }
    
    .safe-bottom {
        padding-bottom: env(safe-area-inset-bottom);
    }
    
    /* Touch action */
    .touch-pan-x {
        touch-action: pan-x;
    }
    
    .touch-pan-y {
        touch-action: pan-y;
    }
    
    /* Scroll snap */
    .snap-x {
        scroll-snap-type: x mandatory;
    }
    
    .snap-start {
        scroll-snap-align: start;
    }
    
    .snap-center {
        scroll-snap-align: center;
    }
    
    /* Text balance (for better heading wrapping) */
    .text-balance {
        text-wrap: balance;
    }
    
    /* Content visibility (for performance) */
    .content-auto {
        content-visibility: auto;
    }
    
    /* Background patterns */
    .bg-dots {
        background-image: radial-gradient(circle, theme('colors.secondary.200') 1px, transparent 1px);
        background-size: 20px 20px;
    }
    
    .bg-grid {
        background-image: 
            linear-gradient(theme('colors.secondary.100') 1px, transparent 1px),
            linear-gradient(90deg, theme('colors.secondary.100') 1px, transparent 1px);
        background-size: 40px 40px;
    }
}

/* ============================================
   Custom Styles (Non-Tailwind)
   ============================================ */

/* Print styles */
@media print {
    .no-print {
        display: none !important;
    }
    
    body {
        font-size: 12pt;
        color: black;
        background: white;
    }
    
    a[href]::after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
        color: #666;
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode */
@media (prefers-contrast: high) {
    .btn-primary {
        @apply border-2 border-black;
    }
    
    .card {
        @apply border-2 border-black;
    }
}
