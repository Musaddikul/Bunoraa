{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Frequently Asked Questions" %}{% endblock %}
{% block page_name %}faq{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-secondary-900 text-white py-16">
    <div class="container text-center">
        <h1 class="text-4xl lg:text-5xl font-bold mb-4">{% trans "Frequently Asked Questions" %}</h1>
        <p class="text-xl text-secondary-300 max-w-2xl mx-auto">{% trans "Find answers to common questions about orders, shipping, returns, and more." %}</p>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Category Navigation -->
            <div class="lg:col-span-1">
                <div class="sticky top-24">
                    <h3 class="font-semibold text-secondary-900 mb-4">{% trans "Categories" %}</h3>
                    <nav class="space-y-1">
                        <a href="#orders" class="block px-4 py-2 rounded-lg hover:bg-secondary-100 text-secondary-600 hover:text-primary-600 transition-colors">
                            {% trans "Orders & Shipping" %}
                        </a>
                        <a href="#returns" class="block px-4 py-2 rounded-lg hover:bg-secondary-100 text-secondary-600 hover:text-primary-600 transition-colors">
                            {% trans "Returns & Refunds" %}
                        </a>
                        <a href="#payments" class="block px-4 py-2 rounded-lg hover:bg-secondary-100 text-secondary-600 hover:text-primary-600 transition-colors">
                            {% trans "Payment" %}
                        </a>
                        <a href="#products" class="block px-4 py-2 rounded-lg hover:bg-secondary-100 text-secondary-600 hover:text-primary-600 transition-colors">
                            {% trans "Products" %}
                        </a>
                        <a href="#account" class="block px-4 py-2 rounded-lg hover:bg-secondary-100 text-secondary-600 hover:text-primary-600 transition-colors">
                            {% trans "Account" %}
                        </a>
                    </nav>
                    
                    <div class="mt-8 p-4 bg-primary-50 rounded-lg">
                        <h4 class="font-semibold text-secondary-900 mb-2">{% trans "Still have questions?" %}</h4>
                        <p class="text-sm text-secondary-600 mb-4">{% trans "Can't find what you're looking for? Contact our support team." %}</p>
                        <a href="{% url 'support:contact' %}" class="btn btn-primary btn-sm w-full">{% trans "Contact Support" %}</a>
                    </div>
                </div>
            </div>
            
            <!-- FAQ Content -->
            <div class="lg:col-span-3 space-y-8">
                <!-- Search -->
                <div class="relative">
                    <input type="search" id="faq-search" class="input pl-12" placeholder="{% trans 'Search for answers...' %}">
                    <svg class="w-5 h-5 text-secondary-400 absolute left-4 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
                
                <!-- Orders & Shipping -->
                <div id="orders" class="scroll-mt-24">
                    <h2 class="text-2xl font-bold text-secondary-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 text-primary-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>
                        </svg>
                        {% trans "Orders & Shipping" %}
                    </h2>
                    <div class="accordion space-y-3" data-accordion>
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "How can I track my order?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Once your order ships, you'll receive an email with a tracking number. You can also track your order by logging into your account and visiting the Orders section, or by using our Track Order feature with your order number and email." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "What are the shipping options?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "We offer several shipping options:" %}</p>
                                <ul class="list-disc list-inside mt-2 text-secondary-600 space-y-1">
                                    <li>{% trans "Standard Shipping (5-7 business days)" %}</li>
                                    <li>{% trans "Express Shipping (2-3 business days)" %}</li>
                                    <li>{% trans "Next Day Delivery (order before 2pm)" %}</li>
                                    <li>{% trans "Free shipping on orders over $100" %}</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "Do you ship internationally?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Yes, we ship to over 100 countries worldwide. International shipping rates and delivery times vary by destination. You'll see the exact shipping cost at checkout before completing your order." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "Can I change or cancel my order?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "You can modify or cancel your order within 1 hour of placing it. After that, orders enter processing and cannot be changed. Please contact our support team immediately if you need assistance." %}</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Returns & Refunds -->
                <div id="returns" class="scroll-mt-24">
                    <h2 class="text-2xl font-bold text-secondary-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 text-primary-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"></path>
                        </svg>
                        {% trans "Returns & Refunds" %}
                    </h2>
                    <div class="accordion space-y-3" data-accordion>
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "What is your return policy?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "We offer a 30-day return policy for most items. Products must be unused, in original packaging, and with all tags attached. Some items like personalized products or intimate items cannot be returned." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "How do I initiate a return?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "To start a return, log into your account, go to your Orders, find the order you want to return, and click 'Request Return'. Follow the instructions to print your return label and ship the item back to us." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "How long does it take to receive a refund?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Once we receive your return, we'll inspect it within 2-3 business days. Refunds are processed to your original payment method and typically appear within 5-10 business days depending on your bank." %}</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Payment -->
                <div id="payments" class="scroll-mt-24">
                    <h2 class="text-2xl font-bold text-secondary-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 text-primary-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                        </svg>
                        {% trans "Payment" %}
                    </h2>
                    <div class="accordion space-y-3" data-accordion>
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "What payment methods do you accept?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "We accept all major credit and debit cards (Visa, Mastercard, American Express), PayPal, Apple Pay, Google Pay, and Cash on Delivery in select locations." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "Is my payment information secure?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Absolutely. We use industry-standard SSL encryption and never store your full card details on our servers. All payments are processed through PCI-DSS compliant payment processors." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "Do you offer installment payments?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Yes, we partner with Klarna and Afterpay to offer buy now, pay later options. Split your purchase into 4 interest-free payments at checkout." %}</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Products -->
                <div id="products" class="scroll-mt-24">
                    <h2 class="text-2xl font-bold text-secondary-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 text-primary-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                        {% trans "Products" %}
                    </h2>
                    <div class="accordion space-y-3" data-accordion>
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "Are all products authentic?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Yes, we guarantee 100% authenticity on all products. We source directly from brands or authorized distributors. Every item comes with a certificate of authenticity where applicable." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "How do I know if an item is in stock?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Stock availability is shown on each product page in real-time. If an item is out of stock, you can sign up for notifications to be alerted when it's back." %}</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Account -->
                <div id="account" class="scroll-mt-24">
                    <h2 class="text-2xl font-bold text-secondary-900 mb-6 flex items-center">
                        <svg class="w-6 h-6 text-primary-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        {% trans "Account" %}
                    </h2>
                    <div class="accordion space-y-3" data-accordion>
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "How do I create an account?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Click the 'Sign Up' button in the header, fill in your details, and you're ready to go! You can also sign up with your Google or Facebook account for faster registration." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "I forgot my password. What should I do?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Click 'Forgot Password' on the login page and enter your email. We'll send you a link to reset your password. The link expires after 24 hours for security." %}</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item card">
                            <button class="accordion-header w-full p-4 text-left flex items-center justify-between">
                                <span class="font-medium text-secondary-900">{% trans "How do I delete my account?" %}</span>
                                <svg class="w-5 h-5 text-secondary-400 accordion-icon transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="accordion-content px-4 pb-4 hidden">
                                <p class="text-secondary-600">{% trans "Go to My Account > Profile > Delete Account. Please note this action is irreversible and will remove all your order history and saved information." %}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script type="module">
// FAQ Accordion
document.querySelectorAll('.accordion-header').forEach(button => {
    button.addEventListener('click', () => {
        const item = button.parentElement;
        const content = item.querySelector('.accordion-content');
        const icon = button.querySelector('.accordion-icon');
        
        const isOpen = !content.classList.contains('hidden');
        
        // Close all others in the same accordion
        const accordion = item.closest('.accordion');
        accordion.querySelectorAll('.accordion-content').forEach(c => c.classList.add('hidden'));
        accordion.querySelectorAll('.accordion-icon').forEach(i => i.classList.remove('rotate-180'));
        
        // Toggle current
        if (!isOpen) {
            content.classList.remove('hidden');
            icon.classList.add('rotate-180');
        }
    });
});

// FAQ Search
const searchInput = document.getElementById('faq-search');
if (searchInput) {
    searchInput.addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase();
        document.querySelectorAll('.accordion-item').forEach(item => {
            const text = item.textContent.toLowerCase();
            item.style.display = text.includes(query) ? '' : 'none';
        });
    });
}
</script>
{% endblock %}
