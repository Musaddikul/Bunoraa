@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== BASE STYLES ===== */
@layer base {
    html {
        scroll-behavior: smooth;
        -webkit-tap-highlight-color: transparent;
    }
    
    body {
        @apply font-sans text-gray-900 antialiased bg-stone-50 dark:bg-stone-950 dark:text-stone-100;
        min-height: 100vh;
        color: var(--text-primary);
        background-color: var(--bg-primary);
    }
    
    /* Focus styles */
    *:focus {
        @apply outline-none;
    }
    
    *:focus-visible {
        @apply ring-2 ring-amber-500 ring-offset-2;
    }
    
    /* Typography */
    h1, h2, h3, h4, h5, h6 {
        @apply font-display font-bold text-stone-900;
    }
    
    /* Links - theme aware */
    a {
        @apply transition-colors duration-200 text-stone-900 underline-offset-4 decoration-transparent cursor-pointer;
    }

    a:hover {
        @apply text-amber-700 decoration-amber-500;
    }

    a:focus-visible {
        @apply ring-2 ring-amber-500 ring-offset-2 ring-offset-stone-50 dark:ring-offset-stone-100;
    }

    .dark a {
        @apply text-stone-100 decoration-transparent;
    }

    .dark a:hover {
        @apply text-amber-300 decoration-amber-300;
    }

    .dark a:focus-visible {
        @apply ring-2 ring-amber-400 ring-offset-2 ring-offset-stone-900;
    }
    
    /* Images */
    img {
        @apply max-w-full h-auto;
    }
    
    /* Form elements */
    input, textarea, select {
        @apply w-full rounded-xl border border-stone-300 px-4 py-3 text-stone-900 
               placeholder-stone-400 transition-all duration-200
               focus:border-amber-500 focus:ring-4 focus:ring-amber-100
               dark:bg-stone-900 dark:border-stone-700 dark:text-stone-100 dark:placeholder-stone-500 
               dark:focus:border-amber-400 dark:focus:ring-amber-800/40;
    }
    
    button {
        @apply cursor-pointer transition-all duration-200;
    }
}

/* ===== COMPONENT STYLES ===== */
@layer components {
    /* Container - Full Width */
    .container-fluid {
        @apply w-full px-4 sm:px-6 lg:px-8;
    }
    
    /* Standard Container */
    .container {
        @apply mx-auto w-full max-w-[1920px] px-4 sm:px-6 lg:px-8;
    }
    
    /* Buttons */
    .btn {
        @apply inline-flex items-center justify-center gap-2 px-6 py-3 
               font-semibold rounded-xl transition-all duration-200
               disabled:opacity-50 disabled:cursor-not-allowed;
    }
    
    .btn-primary {
        @apply btn bg-amber-600 text-white hover:bg-amber-700 
               shadow-lg shadow-amber-600/25 hover:shadow-xl hover:shadow-amber-600/30;
    }
    
    .btn-secondary {
        @apply btn bg-stone-100 text-stone-800 hover:bg-stone-200;
    }
    
    .btn-outline {
        @apply btn border-2 border-amber-600 text-amber-600 
               hover:bg-amber-600 hover:text-white;
    }
    
    .btn-ghost {
        @apply btn text-stone-600 hover:bg-stone-100 hover:text-stone-900;
    }
    
    .btn-sm {
        @apply px-4 py-2 text-sm;
    }
    
    .btn-lg {
        @apply px-8 py-4 text-lg;
    }
    
    /* Cards */
    .card {
        @apply bg-white rounded-2xl shadow-sm hover:shadow-lg 
               transition-shadow duration-300 overflow-hidden;
        @apply dark:bg-stone-900 dark:border dark:border-stone-700 dark:shadow-none;
    }
    
    /* Badges */
    .badge {
        @apply inline-flex items-center px-2.5 py-1 text-xs font-semibold rounded-full;
    }
    
    .badge-primary {
        @apply badge bg-amber-100 text-amber-800;
    }
    
    .badge-success {
        @apply badge bg-green-100 text-green-800;
    }
    
    .badge-danger {
        @apply badge bg-red-100 text-red-800;
    }
    
    .badge-info {
        @apply badge bg-blue-100 text-blue-800;
    }
    
    /* Form Groups */
    .form-group {
        @apply mb-6;
    }
    
    .form-label {
        @apply block text-sm font-medium text-stone-700 mb-2;
    }
    
    .form-error {
        @apply text-sm text-red-600 mt-1;
    }
    
    /* Skeleton Loading */
    .skeleton {
        @apply animate-pulse bg-stone-200 rounded;
    }
    
    /* Dropdown */
    .dropdown-menu {
        @apply absolute z-50 bg-white rounded-xl shadow-xl border border-stone-200 
               py-2 min-w-[160px] opacity-0 transform scale-95 
               transition-all duration-200 origin-top-right;
        @apply dark:bg-stone-900 dark:border-stone-700 dark:shadow-none;
    }
    
    .dropdown-menu.open {
        @apply opacity-100 scale-100;
    }
    
    .dropdown-item {
        @apply flex items-center gap-3 px-4 py-2.5 text-stone-700 
               hover:bg-amber-50 hover:text-amber-700 transition-colors;
        @apply dark:text-stone-200 dark:hover:bg-stone-800 dark:hover:text-amber-300;
    }
    
    /* Modal */
    .modal-overlay {
        @apply fixed inset-0 bg-black/60 backdrop-blur-sm z-50;
    }
    
    .modal-content {
        @apply bg-white rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto;
        @apply dark:bg-stone-900 dark:text-stone-100 dark:shadow-none;
    }
    
    /* Quick View Modal */
    .quick-view-modal {
        @apply fixed inset-0 z-50 flex items-center justify-center p-4;
    }
    
    .quick-view-content {
        @apply bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] 
               overflow-y-auto transform transition-all duration-300;
        @apply dark:bg-stone-900 dark:text-stone-100 dark:shadow-none;
    }
    
    /* Product Card Hover Actions */
    .product-actions {
        @apply absolute top-3 right-3 flex flex-col gap-2 
               opacity-0 group-hover:opacity-100 
               transform translate-x-4 group-hover:translate-x-0 
               transition-all duration-300;
    }
    
    .product-action-btn {
        @apply p-2.5 bg-white rounded-full shadow-lg 
               hover:bg-amber-50 hover:text-amber-600 
               transition-all duration-200 hover:scale-110;
        @apply dark:bg-stone-800 dark:hover:bg-stone-700 dark:text-stone-100;
    }
    
    /* Scrollbar Hide */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    
    /* Custom Scrollbar */
    .custom-scrollbar::-webkit-scrollbar {
        @apply w-2;
    }
    
    .custom-scrollbar::-webkit-scrollbar-track {
        @apply bg-stone-100 rounded-full;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb {
        @apply bg-stone-300 rounded-full hover:bg-stone-400;
    }
    
    /* Page Transition */
    .page-enter {
        animation: fadeIn 0.3s ease-out;
    }
    
    /* Line Clamp */
    .line-clamp-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

/* ===== UTILITIES ===== */
@layer utilities {
    /* Text Selection */
    .selection-amber::selection {
        @apply bg-amber-200 text-amber-900;
    }
    
    /* Aspect Ratios */
    .aspect-product {
        aspect-ratio: 3/4;
    }
    
    .aspect-banner {
        aspect-ratio: 21/9;
    }
    
    /* Safe Area Insets */
    .pb-safe {
        padding-bottom: env(safe-area-inset-bottom);
    }
    
    .pt-safe {
        padding-top: env(safe-area-inset-top);
    }
    
    /* Gradient Text */
    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-amber-600 to-orange-500;
    }

    /* Theme-aware surface helper */
    .surface {
        @apply bg-white text-stone-900 dark:bg-stone-900 dark:text-stone-100;
    }
}

/* Dark-mode overrides for legacy light-only sections */
@layer base {
    .dark .bg-white,
    .dark .bg-gray-50,
    .dark .bg-stone-50 { background-color: #0f172a !important; color: #e5e7eb; }

    .dark .bg-gray-100,
    .dark .bg-stone-100,
    .dark .bg-stone-200 { background-color: #1f2937 !important; color: #e5e7eb; }

    .dark .text-gray-900,
    .dark .text-stone-900,
    .dark .text-stone-800,
    .dark .text-stone-700 { color: #f8fafc !important; }

    .dark .text-gray-700,
    .dark .text-gray-600,
    .dark .text-stone-600,
    .dark .text-stone-500 { color: #e5e7eb !important; }

    .dark .border-stone-200,
    .dark .border-stone-100,
    .dark .border-gray-200,
    .dark .border-gray-100 { border-color: #374151 !important; }
}

/* ===== ANIMATIONS ===== */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes bounceSubtle {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

@keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

/* Shimmer effect for loading */
.shimmer {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}
