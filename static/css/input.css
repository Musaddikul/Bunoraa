@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Font imports */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Merriweather:wght@300;400;700&display=swap');

/* Custom Base Styles */
@layer base {
  :root {
    --color-primary: 124 45 18;
    --color-secondary: 43 176 115;
    --color-accent: 177 194 26;
    --color-dark: 33 33 33;
    --color-light: 245 245 245;
    --color-error: 239 68 68;
    --color-success: 34 197 94;
    --color-warning: 249 115 22;
    --color-info: 59 130 246;
  }

  html {
    @apply scroll-smooth antialiased;
    text-rendering: optimizeLegibility;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-light text-dark font-mono transition-colors duration-300;
    
    &.dark {
      @apply bg-dark text-light;
    }
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-bold tracking-tight text-balance;
  }

  h1 { @apply text-4xl md:text-5xl lg:text-6xl; }
  h2 { @apply text-3xl md:text-4xl lg:text-5xl; }
  h3 { @apply text-2xl md:text-3xl lg:text-4xl; }
  h4 { @apply text-xl md:text-2xl lg:text-3xl; }
  h5 { @apply text-lg md:text-xl lg:text-2xl; }
  h6 { @apply text-base md:text-lg lg:text-xl; }

  p {
    @apply text-pretty leading-relaxed;
  }

  /* Links */
  a {
    @apply transition-all duration-200 hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent;
  }

  /* Form elements */
  button,
  [type="button"],
  [type="reset"],
  [type="submit"] {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary/50;
  }

  input,
  textarea,
  select {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary/50;
  }
}

/* Custom Components */
@layer components {
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none px-6 py-3 text-base;
    
    &-primary {
      @apply bg-primary text-white hover:bg-primary/90 focus:ring-primary/50 shadow-md hover:shadow-lg;
    }
    
    &-secondary {
      @apply bg-secondary text-white hover:bg-secondary/90 focus:ring-secondary/50 shadow-md hover:shadow-lg;
    }
    
    &-outline {
      @apply border border-dark/20 hover:border-primary bg-transparent text-dark hover:text-primary dark:border-light/20 dark:text-light dark:hover:border-accent dark:hover:text-accent;
    }

    &-ghost {
      @apply bg-transparent text-dark hover:bg-dark/5 dark:text-light dark:hover:bg-light/10;
    }

    &-link {
      @apply bg-transparent text-primary hover:underline underline-offset-4;
    }

    &-icon {
      @apply p-2 rounded-full;
    }
  }

  /* Cards */
  .card {
    @apply bg-white dark:bg-dark/80 rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg border border-light dark:border-dark/50;
    
    &-header {
      @apply p-6 pb-0;
    }
    
    &-body {
      @apply p-6;
    }
    
    &-footer {
      @apply p-6 pt-0;
    }

    &-glass {
      @apply bg-white/30 dark:bg-dark/30 backdrop-blur-lg border border-white/20 dark:border-dark/20;
    }
  }

  /* Inputs */
  .input {
    @apply w-full px-4 py-3 bg-white dark:bg-dark/50 border border-light dark:border-dark/50 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary placeholder-dark/50 dark:placeholder-light/50 transition-all duration-300;
    
    &-group {
      @apply flex items-stretch;
      
      .input {
        @apply rounded-r-none;
      }
      
      .btn {
        @apply rounded-l-none;
      }
    }
  }

  /* Navigation */
  .navbar {
    @apply fixed top-0 left-0 right-0 bg-white/80 dark:bg-dark/80 backdrop-blur-md shadow-sm z-50 border-b border-light/20 dark:border-dark/50;
  }

  /* Special components */
  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent;
  }

  .tooltip {
    @apply absolute invisible px-3 py-2 text-sm font-medium text-white bg-dark rounded-lg shadow-sm opacity-0 transition-opacity duration-300 z-50;
  }

  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    
    &-primary {
      @apply bg-primary/10 text-primary;
    }
    
    &-secondary {
      @apply bg-secondary/10 text-secondary;
    }
  }

  .divider {
    @apply border-t border-light/20 dark:border-dark/50 my-4;
  }

  .skeleton {
    @apply animate-pulse bg-light/20 dark:bg-dark/20 rounded;
  }

  /* Notification */
  .notification {
    @apply fixed right-4 bottom-4 p-4 rounded-lg shadow-lg z-50 max-w-xs;
    
    &-success {
      @apply bg-success text-white;
    }
    
    &-error {
      @apply bg-error text-white;
    }
  }

  /* Navigation Links */
  .nav-link {
    @apply relative flex items-center text-gray-300 hover:text-white transition-colors duration-300;
  }
  
  .nav-link-slide {
    @apply relative flex items-center text-gray-300 hover:text-white overflow-hidden;
    
    .nav-icon {
      @apply mr-2 transition-all duration-300;
    }
    
    .nav-text {
      @apply relative inline-block;
      
      &::before {
        @apply content-[attr(data-text)] absolute left-0 top-full w-full h-full text-white transition-all duration-300;
      }
    }
    
    &:hover {
      .nav-icon {
        @apply transform translate-y-1;
      }
      
      .nav-text {
        @apply transform -translate-y-full;
      }
    }
  }
}

/* Custom Utilities */
@layer utilities {
  /* Animations */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-float-delay {
    animation: float 6s ease-in-out 1s infinite;
  }

  .animate-shimmer {
    @apply relative overflow-hidden;
    
    &::after {
      content: '';
      @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent;
      animation: shimmer 2s infinite;
    }
  }
  
  /* Typography */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* 3D effects */
  .perspective-1000 {
    perspective: 1000px;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  /* Scrollbars */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
    &::-webkit-scrollbar {
      display: none;
    }
  }

  .scrollbar-default {
    -ms-overflow-style: auto;
    scrollbar-width: auto;
    &::-webkit-scrollbar {
      display: block;
    }
  }

  /* Interactive elements */
  .tap-highlight-none {
    -webkit-tap-highlight-color: transparent;
  }

  /* Background effects */
  .bg-glass {
    @apply bg-white/30 dark:bg-dark/30 backdrop-blur-lg;
  }

  .bg-noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
  }

  /* Debugging */
  .debug-screens::before {
    @apply fixed bottom-0 left-0 z-50 px-2 py-1 text-xs font-mono text-white bg-black rounded-tr;
    content: 'screen: ' attr(data-screen);
  }

  /* Aspect ratios */
  .aspect-vertical {
    aspect-ratio: 9/16;
  }
}

/* Keyframes */
@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-12px);
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  @apply w-2 h-2;
}

::-webkit-scrollbar-track {
  @apply bg-light/50 dark:bg-dark/50;
}

::-webkit-scrollbar-thumb {
  @apply bg-primary rounded-full hover:bg-primary/80;
}

/* Selection styles */
::selection {
  @apply bg-primary/20 text-primary;
}

/* Print styles */
@media print {
  *,
  *::before,
  *::after {
    @apply bg-transparent shadow-none text-dark;
  }

  body {
    @apply p-0;
  }

  .no-print {
    @apply hidden;
  }
}