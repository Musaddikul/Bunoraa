# Generated by Django 5.2.1 on 2026-01-02 06:02

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("preorders", "0001_initial"),
        ("promotions", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name="preorder",
            name="coupon",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="preorders",
                to="promotions.coupon",
                verbose_name="coupon",
            ),
        ),
        migrations.AddField(
            model_name="preorder",
            name="user",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="preorders",
                to=settings.AUTH_USER_MODEL,
                verbose_name="user",
            ),
        ),
        migrations.AddField(
            model_name="preorder",
            name="category",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="preorders",
                to="preorders.preordercategory",
                verbose_name="category",
            ),
        ),
        migrations.AddField(
            model_name="preorderdesign",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_designs",
                to=settings.AUTH_USER_MODEL,
                verbose_name="approved by",
            ),
        ),
        migrations.AddField(
            model_name="preorderdesign",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="designs",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preorderdesign",
            name="uploaded_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="uploaded_designs",
                to=settings.AUTH_USER_MODEL,
                verbose_name="uploaded by",
            ),
        ),
        migrations.AddField(
            model_name="preorderitem",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="items",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preordermessage",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="messages",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preordermessage",
            name="sender",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="sent_preorder_messages",
                to=settings.AUTH_USER_MODEL,
                verbose_name="sender",
            ),
        ),
        migrations.AddField(
            model_name="preorderoption",
            name="category",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="options",
                to="preorders.preordercategory",
                verbose_name="category",
            ),
        ),
        migrations.AddField(
            model_name="preorderoptionchoice",
            name="option",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="choices",
                to="preorders.preorderoption",
                verbose_name="option",
            ),
        ),
        migrations.AddField(
            model_name="preorderoptionvalue",
            name="choice_value",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="submitted_values",
                to="preorders.preorderoptionchoice",
                verbose_name="selected choice",
            ),
        ),
        migrations.AddField(
            model_name="preorderoptionvalue",
            name="multi_choice_values",
            field=models.ManyToManyField(
                blank=True,
                related_name="multi_submitted_values",
                to="preorders.preorderoptionchoice",
                verbose_name="selected choices",
            ),
        ),
        migrations.AddField(
            model_name="preorderoptionvalue",
            name="option",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="values_submitted",
                to="preorders.preorderoption",
                verbose_name="option",
            ),
        ),
        migrations.AddField(
            model_name="preorderoptionvalue",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="option_values",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preorderpayment",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="payments",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preorderpayment",
            name="recorded_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="recorded_preorder_payments",
                to=settings.AUTH_USER_MODEL,
                verbose_name="recorded by",
            ),
        ),
        migrations.AddField(
            model_name="preorderquote",
            name="created_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="created_quotes",
                to=settings.AUTH_USER_MODEL,
                verbose_name="created by",
            ),
        ),
        migrations.AddField(
            model_name="preorderquote",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="quotes",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preorderreference",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="references",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preorderrevision",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="revisions",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preorderrevision",
            name="requested_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="requested_revisions",
                to=settings.AUTH_USER_MODEL,
                verbose_name="requested by",
            ),
        ),
        migrations.AddField(
            model_name="preorderrevision",
            name="responded_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="responded_revisions",
                to=settings.AUTH_USER_MODEL,
                verbose_name="responded by",
            ),
        ),
        migrations.AddField(
            model_name="preorderstatushistory",
            name="changed_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="preorder_status_changes",
                to=settings.AUTH_USER_MODEL,
                verbose_name="changed by",
            ),
        ),
        migrations.AddField(
            model_name="preorderstatushistory",
            name="preorder",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="status_history",
                to="preorders.preorder",
                verbose_name="pre-order",
            ),
        ),
        migrations.AddField(
            model_name="preordertemplate",
            name="category",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="templates",
                to="preorders.preordercategory",
                verbose_name="category",
            ),
        ),
        migrations.AddIndex(
            model_name="preorder",
            index=models.Index(
                fields=["preorder_number"], name="preorders_p_preorde_644972_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="preorder",
            index=models.Index(
                fields=["status", "created_at"], name="preorders_p_status_98e203_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="preorder",
            index=models.Index(
                fields=["user", "status"], name="preorders_p_user_id_3f24b4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="preorder",
            index=models.Index(
                fields=["assigned_to", "status"], name="preorders_p_assigne_78127b_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="preorderoptionvalue",
            unique_together={("preorder", "option")},
        ),
        migrations.AlterUniqueTogether(
            name="preorderrevision",
            unique_together={("preorder", "revision_number")},
        ),
    ]
