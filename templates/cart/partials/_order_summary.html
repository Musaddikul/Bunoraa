{# cart/templates/cart/partials/_order_summary.html #}
{# This partial's content is now generated dynamically by JavaScript. #}
{# All Django template tags and HTMX attributes have been removed. #}

<div id="order-summary-content" class="space-y-6">
  <div class="border rounded-2xl bg-white dark:bg-gray-900 shadow-sm p-6 sticky top-6">
    <h2 class="text-lg font-semibold mb-4 flex items-center">
      <i class="fas fa-receipt mr-2 text-blue-500"></i> Order Summary
    </h2>
    <div class="space-y-3">
      <div class="flex justify-between">
        <span class="text-gray-600 dark:text-gray-400">Subtotal (<span class="cart-total-items-placeholder"></span> items)</span>
        <span class="cart-subtotal-placeholder"></span>
      </div>
      <div class="tax-amount-row flex justify-between hidden">
          <span class="text-gray-600 dark:text-gray-400">VAT (<span class="cart-tax-rate-placeholder"></span>%):</span>
          <span class="cart-tax-amount-placeholder"></span>
      </div>
      <div class="flex justify-between">
        <span class="text-gray-600 dark:text-gray-400">Shipping</span>
        <span class="cart-shipping-cost-placeholder"></span>
      </div>
      <div class="discount-amount-row flex justify-between text-green-600 dark:text-green-400 hidden">
        <span>Discount</span>
        <span class="cart-discount-amount-placeholder"></span>
      </div>
    </div>
    <hr class="my-4 border-gray-200 dark:border-gray-700">
    <div class="flex justify-between items-center font-bold text-lg text-gray-900 dark:text-white">
      <span>Total</span>
      <span class="cart-final-total-placeholder"></span>
    </div>
    <a href="/checkout/" class="btn btn-primary w-full mt-6 py-3 text-lg">
      Proceed to Checkout
    </a>
    <p class="text-center text-sm text-gray-500 dark:text-gray-400 mt-3 flex items-center justify-center">
      <i class="fas fa-lock text-green-500 mr-1"></i> Secure Checkout
    </p>
    <!-- Coupon Form -->
    <div class="mt-6">
      <h6 class="text-md font-semibold mb-2 flex items-center">
        <i class="fas fa-tag text-blue-500 mr-2"></i> Have a coupon?
      </h6>
      <div class="coupon-applied-section flex justify-between items-center bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-3 py-2 rounded-md text-sm hidden">
        <span>Applied: <strong class="applied-coupon-code-placeholder"></strong></span>
        <button type="button" class="text-red-600 dark:text-red-400 hover:underline remove-coupon-btn">Remove</button>
      </div>
      <form id="coupon-form" class="coupon-form-section">
        <div class="flex">
          <input type="text" name="code" value="" placeholder="Coupon code"
                 class="flex-1 border rounded-l-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 coupon-code-input">
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-r-md hover:bg-blue-700 transition-colors text-sm apply-coupon-btn">
            Apply
          </button>
        </div>
        <p class="text-red-500 text-xs mt-1 coupon-error-message"></p>
      </form>
    </div>
  </div>
</div>
