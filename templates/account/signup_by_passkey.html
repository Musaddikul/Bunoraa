{% extends "account/base_entrance.html" %}
{% load i18n allauth account widget_tweaks %}
{% load static %}

{% block head_title %}{% trans "Signup" %}{% endblock %}

{% block entrance_content %}
<div class="w-full">
    <div class="text-center mb-8">
        <a href="/" class="inline-block">
            <img src="{% static 'images/logo.png' %}" alt="{{ site_name }} Logo" class="h-12 w-auto">
        </a>
        <h2 class="mt-6 text-3xl font-extrabold text-text-DEFAULT">{% trans "Sign Up with a Passkey" %}</h2>
        <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">
            {% blocktranslate %}Already have an account? Then please <a href="{{ login_url }}" class="font-medium text-primary hover:text-primary-dark">sign in</a>.{% endblocktranslate %}
        </p>
    </div>

    {% url 'account_signup_by_passkey' as action_url %}
    <form class="space-y-6" method="POST" action="{{ action_url }}">
        {% csrf_token %}

        {% for field in form %}
            <div class="form-group">
                <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                {% render_field field class="form-control" %}
                {% if field.help_text %}
                    <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">{{ field.help_text }}</p>
                {% endif %}
                {% for error in field.errors %}
                    <p class="mt-2 text-sm text-red-600 dark:text-red-400">{{ error }}</p>
                {% endfor %}
            </div>
        {% endfor %}

        {{ redirect_field }}

        <div>
            <button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                {% trans "Sign Up" %}
            </button>
        </div>
    </form>

    <div class="mt-6 text-center">
        <a href="{{ signup_url }}" class="font-medium text-primary hover:text-primary-dark">{% trans "Other options" %}</a>
    </div>
</div>
{% endblock entrance_content %}