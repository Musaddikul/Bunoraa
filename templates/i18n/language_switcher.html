{% comment %}
Language Switcher Template

Include this template to display a language switcher dropdown.
Override this template to customize the appearance.
{% endcomment %}

<div class="language-switcher dropdown">
    <button class="dropdown-toggle btn btn-outline-secondary" 
            type="button" 
            id="languageSwitcher" 
            data-bs-toggle="dropdown" 
            aria-expanded="false">
        {% if current %}
            <span class="language-flag">{{ current.flag_emoji }}</span>
            <span class="language-code">{{ current.code|upper }}</span>
        {% else %}
            Select Language
        {% endif %}
    </button>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="languageSwitcher">
        {% for language in languages %}
        <li>
            <a class="dropdown-item{% if current and current.id == language.id %} active{% endif %}" 
               href="{% url 'i18n:set_language' code=language.code %}?next={{ request.path }}">
                <span class="language-flag">{{ language.flag_emoji }}</span>
                <span class="language-name">{{ language.native_name }}</span>
                <span class="language-code text-muted">({{ language.code|upper }})</span>
            </a>
        </li>
        {% empty %}
        <li><span class="dropdown-item text-muted">No languages available</span></li>
        {% endfor %}
    </ul>
</div>