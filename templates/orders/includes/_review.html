<div x-show="activeStep === 2" x-transition
     class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden"
     aria-labelledby="review-heading">
  <div class="p-6 border-b border-gray-100 dark:border-gray-700">
    <h2 id="review-heading" class="text-2xl font-bold text-gray-900 dark:text-white">Review Your Order</h2>
  </div>

  <form class="p-6 space-y-8" @submit.prevent="submitOrder">
    <!-- Shipping Info -->
    <section>
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Shipping Information</h3>
        <button type="button" class="text-blue-600 hover:underline text-sm" @click="goToStep(0)">Edit</button>
      </div>
      <div class="bg-gray-50 dark:bg-gray-700 p-5 rounded-lg space-y-1">
        <p class="text-base font-medium text-gray-900 dark:text-white" x-text="shippingInfo.full_name"></p>
        <p class="text-sm text-gray-700 dark:text-gray-300" x-text="shippingInfo.address"></p>
        <p class="text-sm text-gray-700 dark:text-gray-300" x-text="`${shippingInfo.thana}, ${shippingInfo.district}, ${shippingInfo.postal_code}`"></p>
        <p class="text-sm text-gray-700 dark:text-gray-300">Bangladesh</p>
        <p class="text-sm text-gray-700 dark:text-gray-300 mt-2" x-text="shippingInfo.phone"></p>
      </div>
    </section>

    <!-- Payment Info -->
    <section>
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Payment Method</h3>
        <button type="button" class="text-blue-600 hover:underline text-sm" @click="goToStep(1)">Edit</button>
      </div>
      <div class="bg-gray-50 dark:bg-gray-700 p-5 rounded-lg space-y-2">
        <template x-if="selectedPaymentMethodObject">
          <div>
            <div class="flex items-center">
              <img x-show="selectedPaymentMethodObject.icon" 
                   :src="selectedPaymentMethodObject.icon" 
                   :alt="selectedPaymentMethodObject.name + ' logo'" 
                   class="h-6 w-auto mr-2" />
              <p class="text-base font-medium text-gray-900 dark:text-white" 
                 x-text="selectedPaymentMethodObject.name"></p>
            </div>

            <!-- Show additional details based on payment type -->
            <template x-if="selectedPaymentMethodObject.type === 'credit_card'">
              <div class="pt-2 text-sm text-gray-700 dark:text-gray-300">
                <p>You'll be redirected to complete payment</p>
              </div>
            </template>
          </div>
        </template>
        <template x-if="!selectedPaymentMethodObject && selectedPayment">
          <p class="text-sm text-gray-700 dark:text-gray-300">Payment method details not loaded or found.</p>
        </template>
        <template x-if="!selectedPayment">
          <p class="text-sm text-gray-700 dark:text-gray-300">No payment method selected.</p>
        </template>
      </div>
    </section>

    <!-- Confirm Button -->
    <section class="pt-6">
      <button 
        type="submit" 
        class="w-full inline-flex justify-center items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-xl shadow transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
      >
        <i class="fas fa-check mr-2"></i> Confirm Order
      </button>
      <p class="text-sm text-center text-gray-500 dark:text-gray-400 mt-4">
        By confirming your order, you agree to our 
        <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">Terms of Service</a> and 
        <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline">Privacy Policy</a>.
      </p>
    </section>
  </form>
</div>
